{% load static %}

<!-- User Sidebar -->
<aside data-sidebar class="fixed inset-y-0 left-0 z-30 w-64 bg-slate-800 text-white transform -translate-x-full lg:translate-x-0 transition-transform duration-200 ease-in-out">
    <div class="flex flex-col h-full">
        <!-- Logo/Brand -->
        <div class="p-4">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M5.5 16a3.5 3.5 0 01-.369-6.98 4 4 0 117.753-1.977A4.5 4.5 0 1113.5 16h-8z"></path>
                    </svg>
                </div>
                <div>
                    <h2 class="text-base font-bold text-white">ClimaChat</h2>
                    <p class="text-xs text-gray-300">Weather Assistant</p>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 px-3 pb-3">
            <div class="space-y-1">
                <!-- Dashboard -->
                <a href="{% url 'user_dashboard' %}" class="{% if request.resolver_match.url_name == 'user_dashboard' %}bg-blue-600 text-white border-l-4 border-blue-400{% else %}text-gray-300 hover:bg-slate-700 hover:text-white{% endif %} flex items-center px-3 py-2 rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"></path>
                    </svg>
                    <span class="font-medium">Dashboard</span>
                    {% if request.resolver_match.url_name == 'user_dashboard' %}
                    <div class="absolute right-2 w-2 h-2 bg-blue-400 rounded-full"></div>
                    {% endif %}
                </a>

                <!-- Weather Chat -->
                <a href="{% url 'user_chat' %}" class="{% if request.resolver_match.url_name == 'user_chat' %}bg-blue-600 text-white border-l-4 border-blue-400{% else %}text-gray-300 hover:bg-slate-700 hover:text-white{% endif %} flex items-center px-3 py-2 rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                    </svg>
                    <span class="font-medium">Weather Chat</span>
                    {% if request.resolver_match.url_name == 'user_chat' %}
                    <div class="absolute right-2 w-2 h-2 bg-blue-400 rounded-full"></div>
                    {% endif %}
                </a>
                <!-- Weather Map -->
                <a href="{% url 'weather_map' %}" class="{% if request.resolver_match.url_name == 'weather_map' %}bg-blue-600 text-white border-l-4 border-blue-400{% else %}text-gray-300 hover:bg-slate-700 hover:text-white{% endif %} flex items-center px-3 py-2 rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span class="font-medium">Weather Map</span>
                    {% if request.resolver_match.url_name == 'weather_map' %}
                    <div class="absolute right-2 w-2 h-2 bg-blue-400 rounded-full"></div>
                    {% endif %}
                </a>
                <!-- Health Tips -->
                <a href="{% url 'health_tips' %}" class="{% if request.resolver_match.url_name == 'health_tips' %}bg-blue-600 text-white border-l-4 border-blue-400{% else %}text-gray-300 hover:bg-slate-700 hover:text-white{% endif %} flex items-center px-3 py-2 rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                    </svg>
                    <span class="font-medium">Health & Safety</span>
                    {% if request.resolver_match.url_name == 'health_tips' %}
                    <div class="absolute right-2 w-2 h-2 bg-blue-400 rounded-full"></div>
                    {% endif %}
                </a>

                <!-- Divider -->
                <div class="border-t border-slate-700 my-2"></div>

                <!-- Weather Alerts -->
                <a href="{% url 'weather_alerts' %}" class="{% if request.resolver_match.url_name == 'weather_alerts' %}bg-red-600 text-white border-l-4 border-red-400{% else %}text-gray-300 hover:bg-slate-700 hover:text-white{% endif %} flex items-center px-3 py-2 rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.314 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                    </svg>
                    <span class="font-medium">Weather Alerts</span>
                    <span class="ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full">{{ active_alerts_count|default:"0" }}</span>
                    {% if request.resolver_match.url_name == 'weather_alerts' %}
                    <div class="absolute right-2 w-2 h-2 bg-red-400 rounded-full"></div>
                    {% endif %}
                </a>

              

            <!-- Bottom Section -->
            <div class="mt-auto pt-3 space-y-1">
                <!-- Logout -->
                <a href="{% url 'user_logout' %}" class="flex items-center px-3 py-2 text-gray-300 hover:bg-slate-700 hover:text-white rounded-lg transition-all duration-200 relative">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                    </svg>
                    <span class="font-medium">Logout</span>
                </a>
            </div>
        </nav>
    </div>
</aside>